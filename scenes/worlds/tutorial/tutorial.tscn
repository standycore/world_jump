[gd_scene load_steps=13 format=3 uid="uid://rg26gxsu0kfx"]

[ext_resource type="PackedScene" uid="uid://bgk4awg7erdwm" path="res://scenes/components/camera_follow/camera_follow.tscn" id="1_f147t"]
[ext_resource type="Script" path="res://scenes/worlds/tutorial/tutorial.gd" id="1_mp6gx"]
[ext_resource type="PackedScene" uid="uid://bjro5c3dxjgcn" path="res://scenes/player/player.tscn" id="2_e20ck"]
[ext_resource type="Texture2D" uid="uid://igcfodd2foju" path="res://assets/tutorial/tutorial_sheet.png" id="3_ahho6"]
[ext_resource type="PackedScene" uid="uid://cl2uo2x30vd5" path="res://scenes/worlds/tutorial/button/button.tscn" id="5_0oq0p"]
[ext_resource type="Texture2D" uid="uid://5cidcxx1lkts" path="res://assets/remote.png" id="6_ei6yf"]

[sub_resource type="Animation" id="Animation_y07pl"]
resource_name = "construct_remote"
length = 10.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSort/Player:enabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 8.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CameraFollow:position_smoothing_speed")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 5.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [20.0, 1.0, 20.0]
}
tracks/2/type = "animation"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("YSort/MainMachine/Sprite2D/AnimationPlayer")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": PackedStringArray("fan", "[stop]"),
"times": PackedFloat32Array(1, 5)
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("YSort/MainMachine/Sprite2D/AnimationPlayer:speed_scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(1, 3, 5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.0, 10.0, 0.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("YSort/Remote:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("YSort/Remote:scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(1, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(1, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("YSort/Remote:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 5.5, 7),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(8, -163), Vector2(8, -163), Vector2(8, 30)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("CameraFollow:shake_amount")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [5.0, 0.0]
}
tracks/8/type = "method"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("CameraFollow")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(1, 8.2),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [NodePath("../YSort/Remote")],
"method": &"set_target"
}, {
"args": [NodePath("../YSort/Player")],
"method": &"set_target"
}]
}

[sub_resource type="Animation" id="Animation_i4sbt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSort/Remote:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(8, -163)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CameraFollow:shake_amount")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CameraFollow:target")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Object(CharacterBody2D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"position":Vector2(3, -11),"rotation":0.0,"scale":Vector2(1, 1),"skew":0.0,"disable_mode":0,"collision_layer":2,"collision_mask":1,"collision_priority":1.0,"input_pickable":false,"motion_mode":1,"up_direction":Vector2(0, -1),"velocity":Vector2(0, 0),"slide_on_ceiling":true,"max_slides":4,"wall_min_slide_angle":0.261799,"floor_stop_on_slope":true,"floor_constant_speed":false,"floor_block_on_wall":true,"floor_max_angle":0.785398,"floor_snap_length":1.0,"platform_on_leave":0,"platform_floor_layers":4294967295,"platform_wall_layers":0,"safe_margin":0.08,"script":Resource("res://scenes/player/player.gd"),"enabled":true,"speed":100.0)
]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CameraFollow:position_smoothing_speed")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [20.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("YSort/Player:enabled")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("YSort/Remote:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_sevvd"]
_data = {
"RESET": SubResource("Animation_i4sbt"),
"construct_remote": SubResource("Animation_y07pl")
}

[sub_resource type="Animation" id="Animation_mf1x7"]
resource_name = "fan"
length = 0.5
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Fan:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -6.28319]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dteo7"]
_data = {
"fan": SubResource("Animation_mf1x7")
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ckjc0"]
height = 74.0

[node name="Tutorial" type="Node2D" node_paths=PackedStringArray("buttons", "camera", "player")]
script = ExtResource("1_mp6gx")
buttons = [NodePath("YSort/Button1"), NodePath("YSort/Button2"), NodePath("YSort/Button3")]
camera = NodePath("CameraFollow")
player = NodePath("YSort/Player")

[node name="TutorialAnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_sevvd")
}

[node name="CameraFollow" parent="." node_paths=PackedStringArray("target") instance=ExtResource("1_f147t")]
target = NodePath("../YSort/Player")

[node name="YSort" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Player" parent="YSort" instance=ExtResource("2_e20ck")]
position = Vector2(3, -11)

[node name="MainMachine" type="StaticBody2D" parent="YSort"]
position = Vector2(-28, -195)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="YSort/MainMachine"]
position = Vector2(0, -1)
texture = ExtResource("3_ahho6")
offset = Vector2(0, 58.68)
region_enabled = true
region_rect = Rect2(86, 0, 242, 206)

[node name="Fan" type="Sprite2D" parent="YSort/MainMachine/Sprite2D"]
position = Vector2(34, 34)
texture = ExtResource("3_ahho6")
offset = Vector2(-0.69, -1.125)
region_enabled = true
region_rect = Rect2(456, 8, 71, 73)

[node name="AnimationPlayer" type="AnimationPlayer" parent="YSort/MainMachine/Sprite2D"]
libraries = {
"": SubResource("AnimationLibrary_dteo7")
}

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/MainMachine"]
polygon = PackedVector2Array(-116, 157, -64, 154, -62, 92, -75, 86, -59, 55, -36, 42, -21, 42, -19, 76, 16, 74, 16, 104, 57, 104, 59, 76, 99, 78, 112, 74, 114, 2, -22, 1, -69, 12, -98, 42, -111, 93, -121, 94)

[node name="Generator" type="StaticBody2D" parent="YSort"]
position = Vector2(139, -190)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="YSort/Generator"]
texture = ExtResource("3_ahho6")
offset = Vector2(0, 98.83)
region_enabled = true
region_rect = Rect2(331, 0, 114, 212)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/Generator"]
polygon = PackedVector2Array(-54, 4, -32, 7, -10, 16, -3, 37, -19, 91, -14, 120, -1, 137, 7, 127, 49, 160, 26, 196, -21, 164, -13, 153, -29, 141, -38, 120, -37, 77, -26, 78, -17, 48, -23, 24, -54, 15)

[node name="GasContainer" type="StaticBody2D" parent="YSort"]
position = Vector2(-188, -37)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="YSort/GasContainer"]
texture = ExtResource("3_ahho6")
offset = Vector2(0, -96.085)
region_enabled = true
region_rect = Rect2(6, 6, 80, 201)

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/GasContainer"]
position = Vector2(3.905, -5.805)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_ckjc0")

[node name="Button1" parent="YSort" instance=ExtResource("5_0oq0p")]
position = Vector2(-108, -56)
_pressed = false

[node name="Button2" parent="YSort" instance=ExtResource("5_0oq0p")]
position = Vector2(10, -106)
_pressed = false

[node name="Button3" parent="YSort" instance=ExtResource("5_0oq0p")]
position = Vector2(151, -18)
_pressed = false

[node name="Remote" type="Node2D" parent="YSort"]
visible = false
position = Vector2(8, -163)
scale = Vector2(1e-05, 1e-05)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="YSort/Remote"]
texture = ExtResource("6_ei6yf")
